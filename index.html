<!doctype html>
<html>
  <head>
    <title>Game</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      canvas { position: absolute; width: 100%; height: 100%; z-index: -1; }

      /* --------------------------------------Chat Box--------------------------------------- */
      #messageBox {position: absolute; bottom: 30px; left: 15px; width: 20%; height: 50%;}
      #messageForm { padding: 0px; display: none; position: absolute; bottom: 0; left: 0; width: 100%;}
      #messageInput { border: 0; padding: 5px 10px; width: 100%; background-color: rgba(227,227,227,0.3);
                   box-shadow: 0 0 5px grey; border-radius: 5px; outline: none; transition: 0.1s; }
      #messages { list-style-type: none; margin: 0; padding: 10px; position: absolute; bottom: 36px;
                  width: 100%; max-height: 80%; background-color: rgba(227,227,227,0.3); overflow:hidden; overflow-y:scroll;
                  border: gray 1px; border-radius: 5px; box-shadow: 0 0 5px gray; opacity: 0; }
      #messages li { padding: 0px 5px; }
      /* -----------------------------------End of Chat Box----------------------------------- */


      /* ----------------------------------------Skill Bar-------------------------------------- */
      #skillBarDiv {width: 100%; height: 30px; margin-top: 5px}
      #skillsBar {position: absolute; }
      .skill { display: inline-block; height: 30px; width: 30px; box-shadow: 0 0 3px; border: 1px solid #495057;
               position: relative; margin: 0 5px 0 0; background: #131F1C;}
      /* ----------------------------------------SKill Bar-------------------------------------- */


      /* ----------------------------------------Teammates Bar-------------------------------------- */
      #teammatesDiv {position: absolute; top: 10px; width: 50%; height: 60px; left: 10px; background-size: cover;}
      #teammatesBar {position: absolute; }
      .teammate { display: inline-block; height: 60px; width: 60px; text-align: center;
                position: relative; margin: 0 10px 0 0; background: #131F1C; font-size: 0}
      /* ----------------------------------------Teammates Bar-------------------------------------- */


      /* ----------------------------------------Items Bar-------------------------------------- */
      #vault {position: absolute; width: 176px; height: 106px; bottom: 20px; right: 20px; background-color:#131F1C;
              box-shadow: 0 0 3px;}
      #vaultUl {position: absolute; font-size: 0pt; border: solid #495057; border-width: 0 0 1px 1px; }
      .item { display: inline-block; height: 35px; width: 35px;  border: solid #495057;
               position: relative; margin: 0; background: #131F1C; border-width: 1px 1px 0 0}
      /* ----------------------------------------Items Bar-------------------------------------- */


      /* ------------------------------------------Lobby----------------------------------------- */
      .loading {display: none; position:absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%;}
      #lobbyUl {}
      #lobbyUl li {display: inline-block; margin: 0 10px 0 10px}
      #lobbyUl img {height: 150px; width: 150px; object-fit: cover; vertical-align: unset;}
      /* ------------------------------------------Lobby----------------------------------------- */


      

      /* ----------------------------------------Debugger-------------------------------------- */
      #Debugger {float: left; left: 10px; bottom: 10px; padding: 7px; position: absolute; border-style: solid; width: 300px;
                 border-width: 1px; border-color:SaddleBrown; border-radius:2px; background-color:#131F1C;}
      
      /* ----------------------------------------Debugger-------------------------------------- */


      .menu { height: 100vh; width: 100vw; }
      .split { height:85%; width:50%; position:absolute; display: flex; background-size: cover;
                     background-position: center center; }
      .statusBar {float: right; right: 10px; top: 10px; padding: 7px; position: absolute; border-style: solid;
                  border-width: 1px; border-color:SaddleBrown; border-radius:2px; background-color:#131F1C;}
      .button { padding: 5px 30px; border-radius: 3px; font-size: 24px; background: rgba(80, 80, 80, 0.8);
                width: 200px; border: 0; box-shadow: 0 0 5px gray;}
      #notification {position: absolute; top: 10%; left: 50%; transform: translateX(-50%); font-size: 20pt; }
      @keyframes rotate {
        to {
          transform: rotate(1turn)
        }
      }
      .loading__anim { width: 40px; height: 40px; display: inline-block; border: 5px solid rgba(189,189,189 ,0.25);
        border-left-color: rgba(3,155,229 ,1); border-top-color: rgba(3,155,229 ,1); border-radius: 50%; animation: rotate 600ms infinite linear;}
    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body style="width:100vw; height:100vh;">
    <div class="game-area" style="height: 100%; width: 100%;"></div>
    <script id="intro-screen-template" type="text/template">
      <section>
        <div class="menu" id="menu">
          <div style="height:15%; width: 100%; display: flex;">
            <h1 style="margin: auto">Welcome to My World!</h1>
          </div>

          <div class="split" style="bottom: 0; left: 0; background-image: url('./public/images/evilGod.jpg');">
            <button class="button" id='GodButton' style="margin: auto">Rule them!</button>
          </div>
          
          <div class="split" style="bottom: 0; right: 0; background-image: url('./public/images/Survivors.jpg')">
            <ul class="list-unstyled" style="position: absolute; left: 50%; transform: translate(-50%, -50%); top: 50%; ">
              <li><button class="button" id='FighterButton' style="margin: auto">I am Fighter</button></li>
              <li style = "margin: 25px 0 0 0"><button class="button" id='ArcherButton' style="margin: auto">I am Archer</button></li>
              <li style = "margin: 25px 0 0 0"><button class="button" id='HealerButton' style="margin: auto">I am Healer</button></li>
              <li style = "margin: 25px 0 0 0"><button class="button" id='BuilderButton' style="margin: auto">I am Builder</button></li>
            </ul>
          </div>
        </div>

        <div class="loading" id="loadingBox">
          <section class="loading__items" style="font-weight: bold; text-align: center;">
            <h1>Please wait for other players to join:)</h1>
            <ul id="lobbyUl">
              <li><div><img src='public/images/professions/PROFESSION_Archer.jpg'><br><span id="GodCount">0</span> God</div></li>
              <li><div style="margin: 0 10px 0 10px; border-left: 2px solid Gray; height: 175px"></div></li>
              <li><div><img src='public/images/professions/PROFESSION_Fighter.jpg'><br><span id="FighterCount">0</span> Fighter</div></li>
              <li><div><img src='public/images/professions/PROFESSION_Archer.jpg'><br><span id="ArcherCount">0</span> Archer</div></li>
              <li><div><img src='public/images/professions/PROFESSION_Healer.jpg'><br><span id="HealerCount">0</span> Healer</div></li>
              <li><div><img src='public/images/professions/PROFESSION_Builder.jpg'><br><span id="BuilderCount">0</span> Builder</div></li>
            </ul>
            <h3 id="numStatus"></h1>
            <span class="loading__anim"></span>
          </section>
        </div>

      </section>
    </script>
    <script id="ingame-template" type="text/template">
      <canvas id="glCanvas"></canvas>
      <div id="Debugger">
        <span style="color:#B4AE6C;">Debugger</span>
        <div style="color:#B4AE6C; display: block;">x: <span id="x" style="color: white;">--</span> y: <span id="y" style="color: white;">--</span> z: <span id="z" style="color: white;">--</span></div>
        <div style="color:#B4AE6C; display: block;">Ping: <span id="ping" style="color: white;">--</span> ms</div>
        <div style="color:#B4AE6C; display: block;">FPS: <span id="fps" style="color: white;">--</span></div>
        <div style="color:#B4AE6C; display: block;">Render cycle: <span id="render" style="color: white;">--</span> ms</div>
        <div style="color:#B4AE6C; display: block;">Packet size: <span id="bytes" style="color: white;">--</span> bytes</div>
        <div style="color:#B4AE6C; display: block;">Processing cycle: <span id="processing" style="color: white;">--</span> ms</div>
        <div style="color:#B4AE6C; display: block;">Server cycle: <span id="server" style="color: white;">--</span> ms</div>
      </div>
      <div id="notification">
        <ul id="notificationList"></ul>
      </div>
      <div id="statusBar" class="statusBar" onLoad="loadStatusList();">
        <div id="timer" style="color:#B4AE6C; display: inline-block;" >0:00:00</div>
      </div>
      <div id="teammatesDiv">
        <ul id="teammatesBar"></ul>
      </div>
      <div id="messageBox">
        <ul id="messages"></ul>
        <form id="messageForm">
          <input id="messageInput" autocomplete="off" onblur="this.focus()" autofocus disabled/>
        </form>
      </div>
      <div id="vault">
        <ul id="vaultUl"></ul>
      </div>
    </script>
    <script id="endgame-template" type="text/template">
      <h1 id="endgame-message"><h1/>
    </script>
  </body>
  <script src="/public/lib/jquery-3.4.0.min.js"></script>
  <script src='/public/lib/gl-matrix-min.js'></script>
  <script src='/public/lib/webgl-obj-loader.min.js'></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/public/js/OBJObject.js"></script>
  <script src="/public/js/client.js" type="module"></script>
  <script src="/public/js/UI.js" type="module"></script>
</html>